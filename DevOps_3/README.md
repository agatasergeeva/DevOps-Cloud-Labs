# Лабораторная работа №3

## Для начала рассмотрим *“плохой”* CI/CD, в котором есть пять “bad practices” по написанию CI/CD:

### Описание этих “bad practices”:
1.	**Использование latest**:
`runs-on: ubuntu-latest` не стоит использовать, так как версия может измениться со временем и привести к неожиданному поведению приложения. 
2.	**Установка переменных окружения и секретов напрямую** 
Это делает приложение уязвимым, так как секреты (ключи API и URL базы данных) видны при сборке и могут случайно утечь
3.	**Отсутствие кеширования** 
Установка зависимостей выполняется каждый раз заново, что замедляет процесс сборки. 
4.	**Отсутствие Lint** 
У нас отсутствует проверка качества кода (Lint), что может привести к попаданию в код ошибок или нарушению стиля.
5.	**Использование `docker run –d`** 
Флаг -d (detached mode) запускает контейнер в фоновом режиме, не предоставляя вывода о статусе контейнера, что затрудняет отладку процесса во время сборки.

## Теперь рассмотрим *“хороший”* CI/CD, в котором эти плохие практики исправлены.

### Исправление *«плохого»* CI/CD:
1.	Мы исправили ` ubuntu-latest` на `ubuntu-22.04`. Указание конкретной версии гарантирует, что в процессе сборки используется стабильная и проверенная версия ОС. Это помогает избежать неожиданных проблем при выходе новой версии.
2.	Использование кеширования: Добавлен шаг с использованием actions/cache@v3, который сохраняет зависимости (в данном случае Python). Это ускоряет сборку, так как повторная установка зависимостей не требуется.
3.	Мы добавили `Run Linting`. Появился шаг с линтером flake8, который проверяет код на соответствие стандартам качества и помогает избежать ошибок в коде.
4.	Запуск Docker контейнера без -d: Убрано использование флага -d (detached mode), что упрощает отладку в процессе CI/CD.
5.	Использование секретов: Вместо явного указания чувствительной информации в коде, используются переменные окружения, извлекаемые из GitHub Secrets. Это защищает ключи API и другую конфиденциальную информацию от утечек.
Этот CI/CD файл использует лучшие практики для обеспечения надежности, безопасности и скорости.

