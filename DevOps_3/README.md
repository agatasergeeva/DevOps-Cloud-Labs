# Лабораторная работа №3

## Для начала рассмотрим *“плохой”* CI/CD, в котором есть пять “bad practices” по написанию CI/CD:

### Описание этих “bad practices”:
1.	**Использование latest**:
   
`runs-on: ubuntu-latest` не стоит использовать, так как версия может измениться со временем и привести к неожиданному поведению приложения.

2.	**Установка переменных окружения и секретов напрямую**
   
Это делает приложение уязвимым, так как секреты (ключи API и URL базы данных) видны при сборке и могут случайно утечь

3.	**Отсутствие Lint**
   
У нас отсутствует проверка качества кода (Lint), что может привести к попаданию в код ошибок или нарушению стиля.

4. On: push
   
on: push активирует workflow при каждом пуше в репозиторий, включая мелкие изменения, исправления или даже автоматические пуши.
Без уточнения, какие ветки или файлы нужно отслеживать, workflow запускается на все пуши во всех ветках. Это может быть нежелательно:
Например, не нужно запускать деплой для изменений в документации или в feature-ветках

5. continue-on-error: true
 
В нашем случае шаг установки зависимостей является критически важным для успешного выполнения пайплайна, поэтому игнорирование ошибок здесь может привести к последующим сбоям. Лучше рассмотреть варианты исправления причин ошибок, а не игнорировать их.

## Теперь рассмотрим *“хороший”* CI/CD, в котором эти плохие практики исправлены.

### Исправление *«плохого»* CI/CD:
1.	Мы исправили ` ubuntu-latest` на `ubuntu-22.04`. Указание конкретной версии гарантирует, что в процессе сборки используется стабильная и проверенная версия ОС. Это помогает избежать неожиданных проблем при выходе новой версии.
2.	Использование кеширования: Добавлен шаг с использованием actions/cache@v3, который сохраняет зависимости (в данном случае Python). Это ускоряет сборку, так как повторная установка зависимостей не требуется.
3.	Мы добавили `Run Linting`. Появился шаг с линтером flake8, который проверяет код на соответствие стандартам качества и помогает избежать ошибок в коде.
4.	Теперь пайплайн выполняется только при пуше в main
5.	Эту часть кода можно просто удалить, так как наш проект небольшой, и это будет не критично.  

